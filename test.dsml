<module name="test" inputs="a,b,clk,rst" outputs="c,d,e">
    <wire name="c">
        <!-- c = (a & b) | b -->
        <and a="a" b="b"></and>
        <or a="c" b="b"></or>
    </wire>
    <reg name="d" clock="clk" reset="rst" positive-level="true" active-low="false" default="gnd">
        <!-- d = c (will only activate on clock pulse) -->
        c
    </reg>
</module>

<simulation name="sim1">
    <device name="test_mod1" module="test" initialize="a=gnd,b=gnd,clk=gnd,reset=gnd"></device>
    <clock start="1.1ms" frequency="3000Hz" device="test_mod1" id="clk"> vcc </clock>

    <!-- @ 3ms b = 1 (out of order for testing simulation contstruction -->
    <assign time="3ms" device="test_mod1" id="b"> vcc </assign>

    <!-- a = 0, b = 0 -->
    <assign time="0ms" device="test_mod1" id="a"> gnd </assign>
    <assign time="0ms" device="test_mod1" id="b"> gnd </assign>

    <!-- b = 1 -->
    <assign time="1ms" device="test_mod1" id="b"> vcc </assign>

    <!-- a = 1, b = 0 -->
    <assign time="2ms" device="test_mod1" id="a"> vcc </assign>
    <assign time="2ms" device="test_mod1" id="b"> gnd </assign>

    <assign time="4ms" device="test_mod1" id="a"> gnd </assign>
    <assign time="4ms" device="test_mod1" id="b"> gnd </assign>
    <assign time="6ms" device="test_mod1" id="b"> gnd </assign>

    <output device="test_mod1" id="c"></output>
    <output device="test_mod1" id="d"></output>
    <output device="test_mod1" id="clk"></output>
</simulation>